(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2300f6"],{eb58:function(e,a,s){"use strict";s.r(a);var r=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("v-card",[s("v-toolbar",{attrs:{color:"primary",elevation:0}},[s("v-toolbar-title",{staticClass:"white--text"},[e._v(" Cambio de contraseña ")])],1),s("v-form",{ref:"form",staticClass:"pa-4",on:{submit:function(a){return a.preventDefault(),e.changePass(a)}}},[s("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],attrs:{type:"error",dense:""}},[e._v("Los datos no son correctos")]),s("v-alert",{attrs:{type:"info",dense:"",text:""}},[e._v("Tienes que cambiar la contraseña la primera vez que inicias sesión")]),s("v-text-field",{staticClass:"my-2",attrs:{label:"Contraseña actual",type:"password",outlined:"",dense:"","hide-details":"auto",rules:[e.rules.req]},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}}),s("v-text-field",{staticClass:"my-2",attrs:{label:"Nueva contraseña",type:"password",outlined:"",dense:"","hide-details":"auto",rules:[e.rules.req]},model:{value:e.newPassword,callback:function(a){e.newPassword=a},expression:"newPassword"}}),s("v-text-field",{staticClass:"my-2",attrs:{label:"Confirmar nueva contraseña",type:"password",outlined:"",dense:"","hide-details":"auto",rules:[e.rules.req,function(){return e.newPassword==e.newPassword2||"Las contraseñas no coinciden"}]},model:{value:e.newPassword2,callback:function(a){e.newPassword2=a},expression:"newPassword2"}}),s("v-btn",{attrs:{color:"primary",type:"submit",block:""}},[e._v("CAMBIAR CONTRASEÑA")])],1)],1)},t=[],o={props:{usuario:String},data:function(){return{password:"",newPassword:"",newPassword2:"",rules:{req:function(e){return!!e||"Este campo es obligatorio"}},error:!1}},methods:{changePass:function(){var e=this;this.$refs.form.validate()&&axios({method:"POST",url:"".concat("http://localhost/api","/change_password"),data:{username:this.usuario,password:this.password,newPassword:this.newPassword}}).then((function(a){e.$store.dispatch("iniciarSesion",a.data).then((function(a){e.$router.push({name:"Home"}),e.$root.$emit("snack","Se ha cambiado la contraseña con éxito")})),e.error=!1})).catch((function(a){console.error(a),e.error=!0}))}}},n=o,i=s("2877"),l=s("6544"),c=s.n(l),d=s("0798"),u=s("8336"),w=s("b0af"),p=s("4bd4"),f=s("8654"),m=s("71d9"),v=s("2a7f"),h=Object(i["a"])(n,r,t,!1,null,null,null);a["default"]=h.exports;c()(h,{VAlert:d["a"],VBtn:u["a"],VCard:w["a"],VForm:p["a"],VTextField:f["a"],VToolbar:m["a"],VToolbarTitle:v["a"]})}}]);
//# sourceMappingURL=chunk-2d2300f6.efacc40a.js.map