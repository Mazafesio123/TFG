{"version":3,"sources":["webpack:///./src/components/ChangePassword.vue?1799","webpack:///src/components/ChangePassword.vue","webpack:///./src/components/ChangePassword.vue?17c7","webpack:///./src/components/ChangePassword.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","ref","on","$event","preventDefault","changePass","directives","name","rawName","value","expression","rules","req","model","callback","$$v","password","newPassword","newPassword2","staticRenderFns","props","usuario","String","data","error","methods","$refs","form","validate","axios","method","url","username","component","VAlert","VBtn","VCard","VForm","VTextField","VToolbar","VToolbarTitle"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,UAAU,UAAY,IAAI,CAACF,EAAG,kBAAkB,CAACG,YAAY,eAAe,CAACP,EAAIQ,GAAG,6BAA6B,GAAGJ,EAAG,SAAS,CAACK,IAAI,OAAOF,YAAY,OAAOG,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBZ,EAAIa,WAAWF,MAAW,CAACP,EAAG,UAAU,CAACU,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOjB,EAAS,MAAEkB,WAAW,UAAUZ,MAAM,CAAC,KAAO,QAAQ,MAAQ,KAAK,CAACN,EAAIQ,GAAG,gCAAgCJ,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,GAAG,KAAO,KAAK,CAACN,EAAIQ,GAAG,wEAAwEJ,EAAG,eAAe,CAACG,YAAY,OAAOD,MAAM,CAAC,MAAQ,oBAAoB,KAAO,WAAW,SAAW,GAAG,MAAQ,GAAG,eAAe,OAAO,MAAQ,CAACN,EAAImB,MAAMC,MAAMC,MAAM,CAACJ,MAAOjB,EAAY,SAAEsB,SAAS,SAAUC,GAAMvB,EAAIwB,SAASD,GAAKL,WAAW,cAAcd,EAAG,eAAe,CAACG,YAAY,OAAOD,MAAM,CAAC,MAAQ,mBAAmB,KAAO,WAAW,SAAW,GAAG,MAAQ,GAAG,eAAe,OAAO,MAAQ,CAACN,EAAImB,MAAMC,MAAMC,MAAM,CAACJ,MAAOjB,EAAe,YAAEsB,SAAS,SAAUC,GAAMvB,EAAIyB,YAAYF,GAAKL,WAAW,iBAAiBd,EAAG,eAAe,CAACG,YAAY,OAAOD,MAAM,CAAC,MAAQ,6BAA6B,KAAO,WAAW,SAAW,GAAG,MAAQ,GAAG,eAAe,OAAO,MAAQ,CACx1CN,EAAImB,MAAMC,IACV,WAAc,OAAOpB,EAAIyB,aAAezB,EAAI0B,cAAgB,kCAAqCL,MAAM,CAACJ,MAAOjB,EAAgB,aAAEsB,SAAS,SAAUC,GAAMvB,EAAI0B,aAAaH,GAAKL,WAAW,kBAAkBd,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,UAAU,KAAO,SAAS,MAAQ,KAAK,CAACN,EAAIQ,GAAG,yBAAyB,IAAI,IACxTmB,EAAkB,GCoDtB,GACEC,MAAO,CACLC,QAASC,QAEXC,KAJF,WAKI,MAAO,CACLP,SAAU,GACVC,YAAa,GACbC,aAAc,GACdP,MAAO,CAAb,yDACMa,OAAO,IAGXC,QAAS,CACPpB,WADJ,WACA,WACWZ,KAAKiC,MAAMC,KAAKC,YACrBC,MAAM,CACJC,OAAQ,OACRC,IAAK,GAAb,kDACQR,KAAM,CACJS,SAAUvC,KAAK4B,QACfL,SAAUvB,KAAKuB,SACfC,YAAaxB,KAAKwB,eAG5B,kBACQ,EAAR,0DACU,EAAV,cAAY,KAAZ,SACA,mEAEQ,EAAR,YAEA,mBACQ,QAAR,SACQ,EAAR,eCzFwV,I,qHCOpVgB,EAAY,eACd,EACA1C,EACA4B,GACA,EACA,KACA,KACA,MAIa,aAAAc,EAAiB,QAWhC,IAAkBA,EAAW,CAACC,SAAA,KAAOC,OAAA,KAAKC,QAAA,KAAMC,QAAA,KAAMC,aAAA,KAAWC,WAAA,KAASC,cAAA","file":"js/chunk-2d2300f6.efacc40a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-toolbar',{attrs:{\"color\":\"primary\",\"elevation\":0}},[_c('v-toolbar-title',{staticClass:\"white--text\"},[_vm._v(\" Cambio de contraseña \")])],1),_c('v-form',{ref:\"form\",staticClass:\"pa-4\",on:{\"submit\":function($event){$event.preventDefault();return _vm.changePass($event)}}},[_c('v-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.error),expression:\"error\"}],attrs:{\"type\":\"error\",\"dense\":\"\"}},[_vm._v(\"Los datos no son correctos\")]),_c('v-alert',{attrs:{\"type\":\"info\",\"dense\":\"\",\"text\":\"\"}},[_vm._v(\"Tienes que cambiar la contraseña la primera vez que inicias sesión\")]),_c('v-text-field',{staticClass:\"my-2\",attrs:{\"label\":\"Contraseña actual\",\"type\":\"password\",\"outlined\":\"\",\"dense\":\"\",\"hide-details\":\"auto\",\"rules\":[_vm.rules.req]},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('v-text-field',{staticClass:\"my-2\",attrs:{\"label\":\"Nueva contraseña\",\"type\":\"password\",\"outlined\":\"\",\"dense\":\"\",\"hide-details\":\"auto\",\"rules\":[_vm.rules.req]},model:{value:(_vm.newPassword),callback:function ($$v) {_vm.newPassword=$$v},expression:\"newPassword\"}}),_c('v-text-field',{staticClass:\"my-2\",attrs:{\"label\":\"Confirmar nueva contraseña\",\"type\":\"password\",\"outlined\":\"\",\"dense\":\"\",\"hide-details\":\"auto\",\"rules\":[\n        _vm.rules.req,\n        function () { return _vm.newPassword == _vm.newPassword2 || 'Las contraseñas no coinciden'; } ]},model:{value:(_vm.newPassword2),callback:function ($$v) {_vm.newPassword2=$$v},expression:\"newPassword2\"}}),_c('v-btn',{attrs:{\"color\":\"primary\",\"type\":\"submit\",\"block\":\"\"}},[_vm._v(\"CAMBIAR CONTRASEÑA\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card>\r\n    <v-toolbar color=\"primary\" :elevation=\"0\">\r\n      <v-toolbar-title class=\"white--text\">\r\n        Cambio de contraseña\r\n      </v-toolbar-title>\r\n    </v-toolbar>\r\n\r\n    <v-form @submit.prevent=\"changePass\" ref=\"form\" class=\"pa-4\">\r\n      <v-alert type=\"error\" dense v-show=\"error\"\r\n        >Los datos no son correctos</v-alert\r\n      >\r\n      <v-alert type=\"info\" dense text\r\n        >Tienes que cambiar la contraseña la primera vez que inicias\r\n        sesión</v-alert\r\n      >\r\n      <v-text-field\r\n        label=\"Contraseña actual\"\r\n        type=\"password\"\r\n        outlined\r\n        dense\r\n        hide-details=\"auto\"\r\n        class=\"my-2\"\r\n        v-model=\"password\"\r\n        :rules=\"[rules.req]\"\r\n      />\r\n      <v-text-field\r\n        label=\"Nueva contraseña\"\r\n        type=\"password\"\r\n        outlined\r\n        dense\r\n        hide-details=\"auto\"\r\n        class=\"my-2\"\r\n        v-model=\"newPassword\"\r\n        :rules=\"[rules.req]\"\r\n      />\r\n      <v-text-field\r\n        label=\"Confirmar nueva contraseña\"\r\n        type=\"password\"\r\n        outlined\r\n        dense\r\n        hide-details=\"auto\"\r\n        class=\"my-2\"\r\n        v-model=\"newPassword2\"\r\n        :rules=\"[\r\n          rules.req,\r\n          () => newPassword == newPassword2 || 'Las contraseñas no coinciden',\r\n        ]\"\r\n      />\r\n      <v-btn color=\"primary\" type=\"submit\" block>CAMBIAR CONTRASEÑA</v-btn>\r\n    </v-form>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    usuario: String,\r\n  },\r\n  data() {\r\n    return {\r\n      password: \"\",\r\n      newPassword: \"\",\r\n      newPassword2: \"\",\r\n      rules: { req: (v) => !!v || \"Este campo es obligatorio\" },\r\n      error: false,\r\n    };\r\n  },\r\n  methods: {\r\n    changePass() {\r\n      if (!this.$refs.form.validate()) return;\r\n      axios({\r\n        method: \"POST\",\r\n        url: `${process.env.VUE_APP_API_URL}/change_password`,\r\n        data: {\r\n          username: this.usuario,\r\n          password: this.password,\r\n          newPassword: this.newPassword,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          this.$store.dispatch(\"iniciarSesion\", res.data).then((res) => {\r\n            this.$router.push({ name: \"Home\" });\r\n\t\t\t\t\t\tthis.$root.$emit('snack', 'Se ha cambiado la contraseña con éxito')\r\n          });\r\n          this.error = false;\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          this.error = true;\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangePassword.vue?vue&type=template&id=17d0f818&\"\nimport script from \"./ChangePassword.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangePassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAlert,VBtn,VCard,VForm,VTextField,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}