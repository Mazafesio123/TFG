{"version":3,"sources":["webpack:///./src/components/ProfileDrawer.vue?49ec","webpack:///src/components/ProfileDrawer.vue","webpack:///./src/components/ProfileDrawer.vue?449a","webpack:///./src/components/ProfileDrawer.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","staticClass","on","$event","newUser","_v","proxy","model","value","callback","$$v","active","expression","staticStyle","baseUrl","$store","getters","getDecodedToken","openFileInput","ref","img","crop","croppedImage","name","_e","v","nombre","saveProfile","staticRenderFns","component","VBtn","VCardTitle","VCard","VDialog","VFileInput","VIcon","VImg","VNavigationDrawer","VSpacer","VTextField"],"mappings":"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","file":"js/chunk-2d0ddf77.89dec478.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-navigation-drawer',{attrs:{\"app\":\"\",\"right\":\"\",\"temporary\":\"\",\"width\":\"512\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('div',{staticClass:\"ma-4\"},[_c('v-btn',{staticClass:\"my-1\",attrs:{\"color\":\"secondary\",\"outlined\":\"\",\"block\":\"\"},on:{\"click\":function($event){_vm.newUser = true}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-account-plus\")]),_vm._v(\" Crear cuenta de usuario \")],1),_c('v-btn',{staticClass:\"my-1\",attrs:{\"to\":\"/logout\",\"color\":\"error\",\"outlined\":\"\",\"block\":\"\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-logout\")]),_vm._v(\" Cerrar sesión \")],1)],1)]},proxy:true}]),model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('v-card-title',[_vm._v(\"Perfil\")]),_c('div',[_c('v-img',{staticClass:\"mx-auto mt-4\",staticStyle:{\"max-width\":\"200px\"},attrs:{\"src\":(_vm.baseUrl + \"/avatars/\" + (_vm.$store.getters.getDecodedToken.img)),\"contain\":\"\"}},[_c('v-btn',{attrs:{\"fab\":\"\",\"color\":\"secondary\",\"elevation\":1},on:{\"click\":_vm.openFileInput}},[_c('v-icon',[_vm._v(\"mdi-pencil\")])],1)],1),_c('v-file-input',{ref:\"fileInput\",staticClass:\"d-none\",attrs:{\"label\":\"Foto de perfil\",\"accept\":\"image/*\",\"disabled\":!!_vm.img},on:{\"change\":function () {\n\t\t\t\t\t_vm.crop = _vm.img != null ? true : null;\n\t\t\t\t\t_vm.croppedImage = _vm.img;\n\t\t\t\t}},model:{value:(_vm.img),callback:function ($$v) {_vm.img=$$v},expression:\"img\"}}),(_vm.img)?_c('img-cropper',{key:_vm.img.name,on:{\"cancel\":function($event){_vm.img = null}},model:{value:(_vm.croppedImage),callback:function ($$v) {_vm.croppedImage=$$v},expression:\"croppedImage\"}}):_vm._e(),_c('v-text-field',{staticClass:\"mx-4 mt-2\",attrs:{\"outlined\":\"\",\"label\":\"Nombre de usuario\",\"rules\":[function (v) { return !!v || 'Este campo es obligatorio'; }]},model:{value:(_vm.nombre),callback:function ($$v) {_vm.nombre=$$v},expression:\"nombre\"}}),_c('div',{staticClass:\"d-flex mx-4\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.saveProfile}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-content-save\")]),_vm._v(\" Guardar cambios \")],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"800px\",\"width\":\"100%\",\"persistent\":\"\"},model:{value:(_vm.newUser),callback:function ($$v) {_vm.newUser=$$v},expression:\"newUser\"}},[_c('new-user',{on:{\"cancel\":function($event){_vm.newUser = false}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-navigation-drawer v-model=\"active\" app right temporary width=\"512\">\r\n\t\t<v-card-title>Perfil</v-card-title>\r\n\t\t<div>\r\n\t\t\t<v-img\r\n\t\t\t\t:src=\"`${baseUrl}/avatars/${$store.getters.getDecodedToken.img}`\"\r\n\t\t\t\tcontain\r\n\t\t\t\tstyle=\"max-width: 200px\"\r\n\t\t\t\tclass=\"mx-auto mt-4\"\r\n\t\t\t>\r\n\t\t\t\t<v-btn @click=\"openFileInput\" fab color=\"secondary\" :elevation=\"1\">\r\n\t\t\t\t\t<v-icon>mdi-pencil</v-icon>\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-img>\r\n\r\n\t\t\t<v-file-input\r\n\t\t\t\tv-model=\"img\"\r\n\t\t\t\t@change=\"\r\n\t\t\t\t\t() => {\r\n\t\t\t\t\t\tcrop = img != null ? true : null;\r\n\t\t\t\t\t\tcroppedImage = img;\r\n\t\t\t\t\t}\r\n\t\t\t\t\"\r\n\t\t\t\tclass=\"d-none\"\r\n\t\t\t\tlabel=\"Foto de perfil\"\r\n\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t:disabled=\"!!img\"\r\n\t\t\t\tref=\"fileInput\"\r\n\t\t\t/>\r\n\r\n\t\t\t<img-cropper\r\n\t\t\t\tv-if=\"img\"\r\n\t\t\t\t:key=\"img.name\"\r\n\t\t\t\tv-model=\"croppedImage\"\r\n\t\t\t\t@cancel=\"img = null\"\r\n\t\t\t/>\r\n\r\n\t\t\t<v-text-field\r\n\t\t\t\toutlined\r\n\t\t\t\tv-model=\"nombre\"\r\n\t\t\t\tclass=\"mx-4 mt-2\"\r\n\t\t\t\tlabel=\"Nombre de usuario\"\r\n\t\t\t\t:rules=\"[(v) => !!v || 'Este campo es obligatorio']\"\r\n\t\t\t/>\r\n\r\n\t\t\t<div class=\"d-flex mx-4\">\r\n\t\t\t\t<v-spacer />\r\n\t\t\t\t<v-btn color=\"secondary\" @click=\"saveProfile\">\r\n\t\t\t\t\t<v-icon left>mdi-content-save</v-icon>\r\n\t\t\t\t\tGuardar cambios\r\n\t\t\t\t</v-btn>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<v-dialog max-width=\"800px\" width=\"100%\" v-model=\"newUser\" persistent>\r\n\t\t\t<new-user @cancel=\"newUser = false\" />\r\n\t\t</v-dialog>\r\n\r\n\t\t<template v-slot:append>\r\n\t\t\t<div class=\"ma-4\">\r\n\t\t\t\t<v-btn\r\n\t\t\t\t\t@click=\"newUser = true\"\r\n\t\t\t\t\tclass=\"my-1\"\r\n\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\toutlined\r\n\t\t\t\t\tblock\r\n\t\t\t\t>\r\n\t\t\t\t\t<v-icon left>mdi-account-plus</v-icon>\r\n\t\t\t\t\tCrear cuenta de usuario\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn to=\"/logout\" class=\"my-1\" color=\"error\" outlined block>\r\n\t\t\t\t\t<v-icon left>mdi-logout</v-icon>\r\n\t\t\t\t\tCerrar sesión\r\n\t\t\t\t</v-btn>\r\n\t\t\t</div>\r\n\t\t</template>\r\n\t</v-navigation-drawer>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tcomponents: {\r\n\t\tNewUser: () => import(\"@/components/NewUser.vue\"),\r\n\t\tImgCropper: () => import(\"@/components/ImgCropper.vue\"),\r\n\t},\r\n\tprops: {\r\n\t\tvalue: Boolean,\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tnombre: this.$store.getters.getDecodedToken.username,\r\n\t\t\tnewUser: false,\r\n\r\n\t\t\tcrop: null,\r\n\t\t\timg: null,\r\n\t\t\tcroppedImage: null,\r\n\r\n\t\t\tbaseUrl: process.env.VUE_APP_BASE_URL\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tactive: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.value;\r\n\t\t\t},\r\n\t\t\tset(val) {\r\n\t\t\t\tthis.$emit(\"input\", val);\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\topenFileInput() {\r\n\t\t\tthis.$refs.fileInput.$el.querySelector(\"input\").click();\r\n\t\t},\r\n\t\tasync saveProfile() {\r\n\t\t\tif (this.croppedImage) {\r\n\t\t\t\tvar file = await fetch(this.croppedImage).then((res) => res.blob());\r\n\t\t\t}\r\n\r\n\t\t\tlet formData = new FormData();\r\n\t\t\tformData.append(\"name\", this.nombre);\r\n\t\t\tif (file) formData.append(\"img\", file, \"avatar.png\");\r\n\r\n\t\t\taxios({\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\turl: `${process.env.VUE_APP_API_URL}/save_profile`,\r\n\t\t\t\tdata: formData,\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.$store.dispatch('logout').then(() => this.$router.push('/login'))\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfileDrawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfileDrawer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProfileDrawer.vue?vue&type=template&id=504fff36&\"\nimport script from \"./ProfileDrawer.vue?vue&type=script&lang=js&\"\nexport * from \"./ProfileDrawer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCardTitle,VDialog,VFileInput,VIcon,VImg,VNavigationDrawer,VSpacer,VTextField})\n"],"sourceRoot":""}